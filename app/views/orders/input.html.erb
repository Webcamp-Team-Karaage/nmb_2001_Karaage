<div class="body">
  <div class="container">
    <div class="row">
      <!-- 注文情報入力ページ -->
      <div>
        <h4>購入情報入力</h4>
        <%= form_for(@order) do |f| %>
        <div>
          <h4>支払方法</h4>
          <label><%= f.radio_button :payment, "0" %>クレジットカード</label><br>
          <label><%= f.radio_button :payment, "1" %>銀行振込</label>
        </div>
        <div>
          <h4>お届け先</h4>
          <section>
            <label><%= f.radio_button :address, "0" %>ご自身の住所</label>
            <div>
              〒 <%= current_member.postal_code %> <%= current_member.address %><br>
              <%= current_member.first_name %><%= current_member.last_name %>
            </div>
          </section>
          <section>
            <label><%= f.radio_button :address, "1" %>登録済みの住所から選択</label>
            <div>
              <% @shipping_addresses.each do |shipping_address| %>
                <%= shipping_address.postal_code %>
                <%= shipping_address.address %>
                <%= shipping_address.address_name %>
                <%= f.select :address, {'配送先選択予定': 0, '1': 1, '2': 2 } %>
              <% end %>
            </div>
          </section>
          <section>
            <label><%= f.radio_button :address, "2" %>新しいお届け先</label>
            <section>
              <label>郵便番号</label>
              <%= f.text_field :postal_code %>
              <label>ハイフンなし</label>
            </section>
            <section>
              <label>住所　　</label>
              <%= f.text_field :address %>
            </section>
            <section>
              <label>宛名　　</label>
              <%= f.text_field :address_name %>
            </section>
          </section>
        </div>
        <% end %>
        
        <div>
          <a class = "show-icon">
          <%= link_to "確認画面へ進む", new_order_path %>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- radio ボタンの address を 本来はshipping_addressとすべき
orderテーブルにも配送先のカラムを追記必要-->